<!-- üìÅ templates/blog/article_detail.html -->
<!-- üìù –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—å–∏ —Å WYSIWYG –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º -->

{% extends "blog/base_blog.html" %}
{% load static %}

{% block blog_title %}{{ page_title }}{% endblock %}

{% block header_title %}{{ article.title }}{% endblock %}
{% block header_subtitle %}{{ article.category.name }}{% endblock %}

{% block blog_content %}
<style>
    /* üé® –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç–∞—Ç—å–∏ */
    .article-detail-content {
        font-size: 1.1rem;
        line-height: 1.8;
        color: #333;
    }
    
    .article-detail-content h2 {
        margin-top: 2rem;
        margin-bottom: 1rem;
        color: #2a41e8;
    }
    
    .article-detail-content h3 {
        margin-top: 1.5rem;
        margin-bottom: 0.8rem;
    }
    
    .article-detail-content p {
        margin-bottom: 1.2rem;
        text-align: justify;
    }
    
    .article-detail-content img {
        max-width: 100%;
        height: auto;
        margin: 1.5rem auto;
        display: block;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .article-detail-content blockquote {
        border-left: 4px solid #2a41e8;
        padding-left: 1.5rem;
        margin: 1.5rem 0;
        font-style: italic;
        color: #666;
    }
    
    .article-detail-content ul, .article-detail-content ol {
        margin-bottom: 1.2rem;
        padding-left: 2rem;
    }
    
    .article-detail-content table {
        width: 100%;
        margin: 1.5rem 0;
        border-collapse: collapse;
    }
    
    .article-detail-content table th,
    .article-detail-content table td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }
    
    .article-detail-content table th {
        background-color: #f8f9fa;
        font-weight: bold;
    }
    
    /* üìπ –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ */
    .article-detail-content iframe {
        max-width: 100%;
        margin: 1.5rem auto;
        display: block;
    }
    
    .article-meta {
        color: #666;
        font-size: 0.95rem;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #eee;
    }
    
    .article-navigation {
        margin-top: 3rem;
        padding-top: 2rem;
        border-top: 1px solid #eee;
    }
    
    .nav-article {
        padding: 15px;
        background: #f8f9fa;
        border-radius: 8px;
        transition: all 0.3s ease;
    }
    
    .nav-article:hover {
        background: #e9ecef;
        transform: translateX(5px);
    }
    
    .nav-article.prev:hover {
        transform: translateX(-5px);
    }
</style>

<!-- üè† –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
<nav aria-label="breadcrumb">
    <ol class="breadcrumb breadcrumb-blog">
        <li class="breadcrumb-item"><a href="{% url 'index' %}">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li class="breadcrumb-item"><a href="{% url 'blog:article_list' %}">–°—Ç–∞—Ç—å–∏</a></li>
        <li class="breadcrumb-item">
            <a href="{{ article.category.get_absolute_url }}">{{ article.category.name }}</a>
        </li>
        <li class="breadcrumb-item active text-truncate" style="max-width: 300px;">
            {{ article.title }}
        </li>
    </ol>
</nav>

<article>
    <!-- üñºÔ∏è –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
    {% if article.featured_image %}
    <div class="mb-4">
        <img src="{{ article.featured_image.url }}" 
             alt="{{ article.title }}" 
             class="img-fluid rounded shadow">
    </div>
    {% endif %}
    
    <!-- üìä –ú–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="article-meta d-flex justify-content-between align-items-center flex-wrap">
        <div>
            <span>
                <i class="fa fa-user"></i> 
                {{ article.author.get_full_name|default:article.author.username }}
            </span>
            <span class="mx-2">|</span>
            <span>
                <i class="fa fa-folder"></i> 
                <a href="{{ article.category.get_absolute_url }}">
                    {{ article.category.name }}
                </a>
            </span>
            <span class="mx-2">|</span>
            <span>
                <i class="fa fa-clock"></i> 
                ~{{ reading_time }} –º–∏–Ω. —á—Ç–µ–Ω–∏—è
            </span>
        </div>
        <div>
            <span>
                <i class="fa fa-eye"></i> 
                {{ article.views }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
            </span>
        </div>
    </div>
    
    <!-- ‚úçÔ∏è –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç–∞—Ç—å–∏ -->
    <div class="article-detail-content">
        {{ article.content|safe }}
    </div>
    
    <!-- ‚¨ÖÔ∏è‚û°Ô∏è –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç–∞—Ç—å—è–º–∏ -->
    <div class="article-navigation">
        <div class="row">
            <div class="col-md-6 mb-3">
                {% if previous_article %}
                <a href="{{ previous_article.get_absolute_url }}" class="text-decoration-none">
                    <div class="nav-article prev">
                        <small class="text-muted">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞—Ç—å—è</small>
                        <h6 class="mb-0 mt-1">{{ previous_article.title }}</h6>
                    </div>
                </a>
                {% endif %}
            </div>
            <div class="col-md-6 mb-3 text-md-end">
                {% if next_article %}
                <a href="{{ next_article.get_absolute_url }}" class="text-decoration-none">
                    <div class="nav-article next">
                        <small class="text-muted">–°–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è ‚Üí</small>
                        <h6 class="mb-0 mt-1">{{ next_article.title }}</h6>
                    </div>
                </a>
                {% endif %}
            </div>
        </div>
    </div>
</article>
{% endblock %}

{% block sidebar_extra %}
<!-- üîó –ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏ -->
{% if related_articles %}
<div class="related-articles mt-4">
    <div class="categories-sidebar">
        <h3>–ü–æ—Ö–æ–∂–∏–µ —Å—Ç–∞—Ç—å–∏</h3>
        {% for related in related_articles %}
        <div class="related-article mb-3">
            <h6 class="mb-1">
                <a href="{{ related.get_absolute_url }}" class="text-decoration-none">
                    {{ related.title }}
                </a>
            </h6>
            <small class="text-muted">
                <i class="fa fa-eye"></i> {{ related.views }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
            </small>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endblock %}