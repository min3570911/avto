{% extends "base/base.html" %}
{% load static %}

{% block title %}EVA –∫–æ–≤—Ä–∏–∫–∏ –≤ –ú–∏–Ω—Å–∫–µ | –ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block start %}

<style>
  /* üé¨ Hero Section Styles - –ö–û–ú–ü–ê–ö–¢–ù–ê–Ø –í–ï–†–°–ò–Ø */
  .hero-section {
    position: relative;
    min-height: 70vh;
    display: flex;
    align-items: center;
    overflow: hidden;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .hero-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
  }

  .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 2;
  }

  .hero-content {
    position: relative;
    z-index: 3;
    color: white;
    text-align: center;
    padding: 50px 0;
  }

  .hero-title {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 15px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
  }

  .hero-subtitle {
    font-size: 1.3rem;
    margin-bottom: 35px;
    opacity: 0.9;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
  }

  /* üÜï –û–ë–ù–û–í–õ–ï–ù–ù–´–ï —Å—Ç–∏–ª–∏ –¥–ª—è 4 –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –≤ —Ä—è–¥ - –£–í–ï–õ–ò–ß–ï–ù–´ –í 2 –†–ê–ó–ê */
  .hero-advantages {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin: 35px 0;
    max-width: 1200px; /* üîß –£–≤–µ–ª–∏—á–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∫–æ–Ω–æ–∫ */
    margin-left: auto;
    margin-right: auto;
  }

  .advantage-item {
    background: transparent;
    border: none;
    border-radius: 0;
    padding: 20px 15px;
    transition: all 0.3s ease;
    text-align: center;
  }

  .advantage-item:hover {
    transform: translateY(-5px);
    background: transparent;
  }

  /* üÜï –£–í–ï–õ–ò–ß–ï–ù–ù–´–ï —Å—Ç–∏–ª–∏ –¥–ª—è SVG –∏–∫–æ–Ω–æ–∫ - –í 2 –†–ê–ó–ê –ë–û–õ–¨–®–ï */
  .advantage-icon-svg {
    width: 120px;  /* üîß –£–í–ï–õ–ò–ß–ï–ù–û —Å 60px –¥–æ 120px */
    height: 120px; /* üîß –£–í–ï–õ–ò–ß–ï–ù–û —Å 60px –¥–æ 120px */
    margin: 0 auto 20px;  /* üîß –£–≤–µ–ª–∏—á–µ–Ω –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .advantage-icon-svg img {
    width: 100%;
    height: 100%;
    filter: brightness(0) invert(1);
    transition: filter 0.3s ease;
  }

  .advantage-item:hover .advantage-icon-svg img {
    filter: brightness(0) saturate(100%) invert(59%) sepia(100%) saturate(1000%) hue-rotate(15deg);
  }

  .advantage-title {
    font-size: 2rem;  /* üîß –£–í–ï–õ–ò–ß–ï–ù–û —Å 1rem –¥–æ 2rem */
    font-weight: 600;
    margin-bottom: 10px;  /* üîß –£–≤–µ–ª–∏—á–µ–Ω –æ—Ç—Å—Ç—É–ø */
    line-height: 1.2;
  }

  .advantage-desc {
    font-size: 1.7rem;  /* üîß –£–í–ï–õ–ò–ß–ï–ù–û —Å 0.85rem –¥–æ 1.7rem */
    opacity: 0.9;
    line-height: 1.3;
  }

  .hero-cta {
    margin-top: 30px;
  }

  .cta-button {
    display: inline-block;
    background: #ff6600;
    color: white;
    padding: 15px 40px;
    font-size: 1.2rem;
    font-weight: 600;
    border-radius: 50px;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(255, 102, 0, 0.3);
  }

  .cta-button:hover {
    background: #e55a00;
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(255, 102, 0, 0.4);
    color: white;
    text-decoration: none;
  }

  /* üìÇ Compact Categories Section - –û–ë–ù–û–í–õ–ï–ù–û –° –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï–ú */
  .catalog-section {
    padding: 80px 0;
    background: #f8f9fa;
  }

  .section-title {
    text-align: center;
    font-size: 2.5rem;
    color: #333;
    margin-bottom: 50px;
    position: relative;
  }

  .section-title:after {
    content: '';
    position: absolute;
    bottom: -15px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 3px;
    background: #ff6600;
  }

  /* üÜï –ù–û–í–´–ô –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å –∫–Ω–æ–ø–∫–æ–π */
  .categories-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .categories-grid {
    display: grid;
    gap: 30px;
    margin-bottom: 30px;
  }

  /* üÜï –ê–î–ê–ü–¢–ò–í–ù–ê–Ø —Å–µ—Ç–∫–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ */
  @media (min-width: 1200px) {
    .categories-grid {
      grid-template-columns: repeat(4, 1fr);
    }
    .category-card:nth-child(n+9) {
      display: none;
    }
    .categories-grid.expanded .category-card {
      display: block !important;
    }
  }

  @media (min-width: 992px) and (max-width: 1199px) {
    .categories-grid {
      grid-template-columns: repeat(3, 1fr);
    }
    .category-card:nth-child(n+7) {
      display: none;
    }
    .categories-grid.expanded .category-card {
      display: block !important;
    }
  }

  @media (min-width: 768px) and (max-width: 991px) {
    .categories-grid {
      grid-template-columns: repeat(2, 1fr);
    }
    .category-card:nth-child(n+5) {
      display: none;
    }
    .categories-grid.expanded .category-card {
      display: block !important;
    }
  }

  @media (max-width: 767px) {
    .categories-grid {
      grid-template-columns: repeat(2, 1fr);
    }
    .category-card:nth-child(n+5) {
      display: none;
    }
    .categories-grid.expanded .category-card {
      display: block !important;
    }
  }

  .category-card {
    background: white;
    border-radius: 15px;
    padding: 30px 20px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    text-decoration: none;
    color: inherit;
  }

  .category-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    text-decoration: none;
    color: inherit;
  }

  .category-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 20px;
    border-radius: 50%;
    background: #f8f9fa;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .category-icon img {
    width: 60px;
    height: 60px;
    object-fit: contain;
  }

  .category-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
  }

  /* üÜï –ö–ù–û–ü–ö–ê "–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ä–∫–∏" */
  .show-all-button {
    display: block;
    margin: 0 auto;
    background: #ff6600;
    color: white;
    padding: 12px 35px;
    font-size: 1.1rem;
    font-weight: 600;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(255, 102, 0, 0.3);
  }

  .show-all-button:hover {
    background: #e55a00;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 102, 0, 0.4);
  }

  .show-all-button.active {
    background: #666;
  }

  .show-all-button i {
    margin-left: 8px;
    transition: transform 0.3s ease;
  }

  .show-all-button.active i {
    transform: rotate(180deg);
  }

  /* üé® EVA Benefits Section */
  .eva-benefits {
    padding: 80px 0;
    background: white;
  }

  .benefits-container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: center;
  }

  .benefits-content h2 {
    font-size: 2.5rem;
    color: #333;
    margin-bottom: 30px;
  }

  .benefits-highlight {
    color: #ff6600;
  }

  .benefits-list {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-top: 30px;
  }

  .benefit-point {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 10px;
  }

  .benefit-number {
    background: #ff6600;
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
  }

  .benefits-image {
    text-align: center;
    position: relative;
  }

  .benefits-image img {
    max-width: 100%;
    height: auto;
  }

  /* üìã 5 Steps Section */
  .steps-section {
    padding: 80px 0;
    background: #f8f9fa;
  }

  .steps-container {
    max-width: 1200px;
    margin: 0 auto;
  }

  .steps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 30px;
    margin-top: 50px;
  }

  .step-item {
    text-align: center;
    position: relative;
  }

  .step-number {
    width: 60px;
    height: 60px;
    background: #ff6600;
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 auto 20px;
  }

  .step-title {
    font-size: 1.2rem;
    font-weight: 600;
    color: #333;
    margin-bottom: 10px;
  }

  .step-desc {
    color: #666;
    line-height: 1.5;
  }

  /* ‚ùì FAQ Section */
  .faq-section {
    padding: 80px 0;
    background: white;
  }

  .faq-container {
    max-width: 800px;
    margin: 0 auto;
  }

  .faq-accordion {
    margin-top: 40px;
  }

  .faq-item {
    border: 1px solid #e9ecef;
    border-radius: 10px;
    margin-bottom: 15px;
    overflow: hidden;
  }

  .faq-question {
    background: #f8f9fa;
    padding: 20px;
    margin: 0;
    cursor: pointer;
    font-weight: 600;
    color: #333;
    border: none;
    width: 100%;
    text-align: left;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 1rem;
  }

  .faq-question:hover {
    background: #e9ecef;
  }

  .faq-icon {
    font-size: 1.2rem;
    transition: transform 0.3s ease;
  }

  .faq-answer {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
    background: white;
  }

  .faq-answer.active {
    max-height: 200px;
    padding: 20px;
  }

  .faq-item.active .faq-icon {
    transform: rotate(180deg);
  }

  /* üì± Mobile Responsive - –û–ë–ù–û–í–õ–ï–ù–û –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  @media (max-width: 768px) {
    .hero-title {
      font-size: 2.2rem;
    }

    .hero-subtitle {
      font-size: 1.1rem;
    }

    .hero-content {
      padding: 30px 0;
    }

    /* üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: 2x2 —Å–µ—Ç–∫–∞ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö */
    .hero-advantages {
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin: 25px 0;
    }

    .advantage-item {
      padding: 15px 10px;
    }

    .advantage-icon-svg {
      width: 80px;  /* üîß –£–º–µ–Ω—å—à–µ–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö, –Ω–æ –≤—Å—ë –µ—â—ë –±–æ–ª—å—à–µ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ */
      height: 80px;
      margin-bottom: 15px;
    }

    .advantage-title {
      font-size: 1.3rem; /* üîß –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    }

    .advantage-desc {
      font-size: 1.1rem; /* üîß –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    }

    .benefits-container {
      grid-template-columns: 1fr;
      gap: 40px;
    }

    .benefits-list {
      grid-template-columns: 1fr;
    }

    .steps-grid {
      grid-template-columns: 1fr;
    }

    .section-title {
      font-size: 2rem;
    }
  }

  @media (max-width: 576px) {
    /* üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö */
    .hero-advantages {
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .hero-content {
      padding: 25px 0;
    }

    .hero-title {
      font-size: 1.8rem;
    }

    .hero-subtitle {
      font-size: 1rem;
    }

    .advantage-icon-svg {
      width: 60px;  /* üîß –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö */
      height: 60px;
    }

    .advantage-title {
      font-size: 1rem;
    }

    .advantage-desc {
      font-size: 0.85rem;
    }
  }
</style>

<!-- üé¨ Hero Section -->
<section class="hero-section">
  {% if hero_section and hero_section.video %}
    <video class="hero-video" autoplay muted loop playsinline>
      <source src="{{ hero_section.video.url }}" type="video/mp4">
      {% if hero_section.fallback_image %}
        <img src="{{ hero_section.fallback_image.url }}" alt="EVA –∫–æ–≤—Ä–∏–∫–∏" class="hero-video">
      {% endif %}
    </video>
  {% endif %}

  <div class="hero-overlay"></div>

  <div class="container hero-content">
    <h1 class="hero-title">
      {% if hero_section %}{{ hero_section.title }}{% else %}EVA –∫–æ–≤—Ä–∏–∫–∏ –≤ –ú–∏–Ω—Å–∫–µ{% endif %}
    </h1>

    <p class="hero-subtitle">
      {% if hero_section %}{{ hero_section.subtitle }}{% else %}—É—é—Ç, –∫–æ–º—Ñ–æ—Ä—Ç, —á–∏—Å—Ç–æ—Ç–∞ –≤ –≤–∞—à–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ{% endif %}
    </p>

    <!-- üéØ Hero Advantages -->
    <div class="hero-advantages">
      {% if hero_section.advantages.all %}
        {% for advantage in hero_section.advantages.all %}
          <div class="advantage-item">
            <div class="advantage-icon-svg">
              <img src="/media/images/icons/header_icon_{{ forloop.counter }}.svg" alt="{{ advantage.title }}" onerror="this.style.display='none'">
            </div>
            <div class="advantage-title">{{ advantage.title }}</div>
            <div class="advantage-desc">{{ advantage.description }}</div>
          </div>
        {% endfor %}
      {% else %}
        <!-- üîß –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å SVG –∏–∫–æ–Ω–∫–∞–º–∏ -->
        <div class="advantage-item">
          <div class="advantage-icon-svg">
            <img src="/media/images/icons/header_icon_1.svg" alt="–î–æ—Å—Ç–∞–≤–∫–∞" onerror="this.style.display='none'">
          </div>
          <div class="advantage-title">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –ë–µ–ª–∞—Ä—É—Å–∏</div>
          <div class="advantage-desc">–ü–æ—á—Ç–æ–π –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ</div>
        </div>
        <div class="advantage-item">
          <div class="advantage-icon-svg">
            <img src="/media/images/icons/header_icon_2.svg" alt="–ú–∞—Ç–µ—Ä–∏–∞–ª—ã" onerror="this.style.display='none'">
          </div>
          <div class="advantage-title">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞</div>
          <div class="advantage-desc">–î–æ–ª–≥–æ–≤–µ—á–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ</div>
        </div>
        <div class="advantage-item">
          <div class="advantage-icon-svg">
            <img src="/media/images/icons/header_icon_3.svg" alt="–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å" onerror="this.style.display='none'">
          </div>
          <div class="advantage-title">–ì–∞—Ä–∞–Ω—Ç–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏</div>
          <div class="advantage-desc">–¢–æ—á–Ω–æ –ø–æ —Ä–∞–∑–º–µ—Ä–∞–º –≤–∞—à–µ–≥–æ –∞–≤—Ç–æ</div>
        </div>
        <div class="advantage-item">
          <div class="advantage-icon-svg">
            <img src="/media/images/icons/header_icon_4.svg" alt="–ß–∏—Å—Ç–æ—Ç–∞" onerror="this.style.display='none'">
          </div>
          <div class="advantage-title">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∏—Å—Ç–æ—Ç–∞</div>
          <div class="advantage-desc">–í —Å–∞–ª–æ–Ω–µ –≤–∞—à–µ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è</div>
        </div>
      {% endif %}
    </div>

    <!-- üéØ CTA Button -->
    <div class="hero-cta">
      <a href="{% if hero_section.button_link %}{{ hero_section.button_link }}{% else %}#catalog-section{% endif %}"
         class="cta-button smooth-scroll">
        {% if hero_section.button_text %}{{ hero_section.button_text }}{% else %}–ó–ê–ö–ê–ó–ê–¢–¨{% endif %}
      </a>
    </div>
  </div>
</section>

<!-- üìÇ Compact Categories Catalog - –û–ë–ù–û–í–õ–ï–ù–û –° –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï–ú -->
<section class="catalog-section" id="catalog-section">
  <div class="container">
    <h2 class="section-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∫–æ–≤—Ä–∏–∫–æ–≤</h2>

    <div class="categories-container">
      <div class="categories-grid" id="categoriesGrid">
        {% for category in categories %}
          <a href="{% url 'products_by_category' category.slug %}" class="category-card">
            <div class="category-icon">
              {% if category.category_image %}
                <img src="/media/{{ category.category_image }}" alt="{{ category.category_name }}">
              {% else %}
                <img src="{% static 'images/placeholder-category.png' %}" alt="{{ category.category_name }}">
              {% endif %}
            </div>
            <div class="category-name">{{ category.category_name }}</div>
          </a>
        {% empty %}
          <div class="text-center col-12">
            <p>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã</p>
          </div>
        {% endfor %}
      </div>

      <!-- üÜï –ö–Ω–æ–ø–∫–∞ "–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ä–∫–∏" -->
      {% if categories.count > 8 %}
      <button class="show-all-button" id="showAllCategories" onclick="toggleCategories()">
        <span>–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ä–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</span>
        <i class="fas fa-chevron-down"></i>
      </button>
      {% endif %}
    </div>
  </div>
</section>

<!-- üé® EVA - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–≤—Ç–æ–∫–æ–≤—Ä–∏–∫–∏ -->
<section class="eva-benefits">
  <div class="container">
    <div class="benefits-container">
      <div class="benefits-content">
        <h2><span class="benefits-highlight">EVA</span> - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–≤—Ç–æ–∫–æ–≤—Ä–∏–∫–∏.</h2>
        <p>–≠—Ç–æ <span class="benefits-highlight">—É—é—Ç, –∫–æ–º—Ñ–æ—Ä—Ç, —á–∏—Å—Ç–æ—Ç–∞</span> –≤ –≤–∞—à–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ</p>

        <div class="benefits-list">
          <div class="benefit-point">
            <div class="benefit-number">1</div>
            <div>–§–æ—Ä–º–∞ —á–µ—Ç–∫–æ –ø–æ –∫–æ–Ω—Ç—É—Ä—É –º–∞—à–∏–Ω—ã, –±–µ–∑ –∑–∞–∑–æ—Ä–æ–≤</div>
          </div>
          <div class="benefit-point">
            <div class="benefit-number">2</div>
            <div>–°—Ä–æ–∫ —Å–ª—É–∂–±—ã 5 –ª–µ—Ç</div>
          </div>
          <div class="benefit-point">
            <div class="benefit-number">3</div>
            <div>–®—Ç–∞—Ç–Ω—ã–µ –∫—Ä–µ–ø–µ–∂–∏ –∏ –ª–∏–ø—É—á–∫–∏</div>
          </div>
          <div class="benefit-point">
            <div class="benefit-number">4</div>
            <div>3D –ø–æ–¥–Ω–æ–∂–∫–∞ –∏–ª–∏ –ª–µ–ø–µ—Å—Ç–æ–∫ –Ω–∞ –≤—ã–±–æ—Ä</div>
          </div>
          <div class="benefit-point">
            <div class="benefit-number">5</div>
            <div>–ü–æ–¥–ø—è—Ç–Ω–∏–∫–∏ –∏ —à–∏–ª—å–¥–∏–∫–∏</div>
          </div>
          <div class="benefit-point">
            <div class="benefit-number">6</div>
            <div>–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π EVA –º–∞—Ç–µ—Ä–∏–∞–ª</div>
          </div>
        </div>
      </div>

      <div class="benefits-image">
        <img src="{% static 'images/eva-benefits.png' %}" alt="EVA –∫–æ–≤—Ä–∏–∫–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞">
      </div>
    </div>
  </div>
</section>

<!-- üìã 5 —à–∞–≥–æ–≤ –¥–æ —á–∏—Å—Ç–æ–≥–æ —Å–∞–ª–æ–Ω–∞ -->
<section class="steps-section">
  <div class="container">
    <div class="steps-container">
      <h2 class="section-title">5 —à–∞–≥–æ–≤ –¥–æ —á–∏—Å—Ç–æ–≥–æ —Å–∞–ª–æ–Ω–∞</h2>

      <div class="steps-grid">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-title">–û—Ñ–æ—Ä–º–∏ –∑–∞–∫–∞–∑ –Ω–∞ —Å–∞–π—Ç–µ</div>
          <div class="step-desc">–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å, –º–∞—Ç–µ—Ä–∏–∞–ª, —Ü–≤–µ—Ç –∏ –Ω—É–∂–Ω—ã–µ –∫–æ–≤—Ä–∏–∫–∏.</div>
        </div>

        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-title">–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–∑–≤–æ–Ω–∏—Ç, —É—Ç–æ—á–Ω–∏—Ç –¥–µ—Ç–∞–ª–∏</div>
          <div class="step-desc">–ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –≤–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è.</div>
        </div>

        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-title">–û–ø–ª–∞—Ç–∏ –∑–∞–∫–∞–∑</div>
          <div class="step-desc">–ú—ã –≤—ã—à–ª–µ–º —Å–º—Å —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ–ø–ª–∞—Ç—É. –û–ø–ª–∞—Ç–∞ –Ω–∞ —Å–∞–π—Ç–µ –°–±–µ—Ä–±–∞–Ω–∫–∞, –±–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏. –≠—Ç–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω, –∞ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É.</div>
        </div>

        <div class="step-item">
          <div class="step-number">4</div>
          <div class="step-title">–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–æ–≤—Ä—ã</div>
          <div class="step-desc">–ö—É—Ä—å–µ—Ä—Å–∫–∞—è —Å–ª—É–∂–±–∞ –°–î–≠–ö. –ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–π–º–µ—Ç –æ—Ç 1 –¥–æ 4 –¥–Ω–µ–π.</div>
        </div>

        <div class="step-item">
          <div class="step-number">5</div>
          <div class="step-title">–ü–æ–ª—É—á–∏ –∫–æ–≤—Ä–∏–∫–∏ –≤ –ø—É–Ω–∫—Ç–µ –≤—ã–¥–∞—á–∏</div>
          <div class="step-desc">–£—Ä–∞! –í –º–∞—à–∏–Ω–µ —á–∏—â–µ –∏ —É—é—Ç–Ω–µ–π!!!</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ‚ùì FAQ Section -->
{% if faqs %}
<section class="faq-section">
  <div class="container">
    <div class="faq-container">
      <h2 class="section-title">–ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>

      <div class="faq-accordion">
        {% for faq in faqs %}
          <div class="faq-item">
            <button class="faq-question" onclick="toggleFAQ(this)">
              {{ faq.question }}
              <span class="faq-icon">‚ñº</span>
            </button>
            <div class="faq-answer">
              <p>{{ faq.answer|linebreaks }}</p>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
{% endif %}

<!-- üöÄ JavaScript -->
<script>
// üìÑ Smooth scrolling –¥–ª—è –∫–Ω–æ–ø–∫–∏ CTA
document.addEventListener('DOMContentLoaded', function() {
  const smoothScrollLinks = document.querySelectorAll('.smooth-scroll');

  smoothScrollLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      const href = this.getAttribute('href');

      if (href.startsWith('#')) {
        e.preventDefault();
        const target = document.querySelector(href);

        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }
    });
  });

  // üÜï –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  checkHiddenCategories();
});

// üÜï –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
function toggleCategories() {
  const grid = document.getElementById('categoriesGrid');
  const button = document.getElementById('showAllCategories');
  const buttonText = button.querySelector('span');
  const buttonIcon = button.querySelector('i');

  if (grid.classList.contains('expanded')) {
    // –°–≤–æ—Ä–∞—á–∏–≤–∞–µ–º
    grid.classList.remove('expanded');
    button.classList.remove('active');
    buttonText.textContent = '–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ä–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π';

    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –Ω–∞—á–∞–ª—É —Å–µ–∫—Ü–∏–∏
    document.getElementById('catalog-section').scrollIntoView({
      behavior: 'smooth',
      block: 'start'
    });
  } else {
    // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º
    grid.classList.add('expanded');
    button.classList.add('active');
    buttonText.textContent = '–°–∫—Ä—ã—Ç—å';
  }
}

// üÜï –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫—Ä—ã—Ç—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
function checkHiddenCategories() {
  const grid = document.getElementById('categoriesGrid');
  const categories = grid.querySelectorAll('.category-card');
  const button = document.getElementById('showAllCategories');

  if (!button) return;

  let hiddenCount = 0;
  const width = window.innerWidth;

  // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞
  if (width >= 1200) {
    hiddenCount = categories.length - 8;
  } else if (width >= 992) {
    hiddenCount = categories.length - 6;
  } else {
    hiddenCount = categories.length - 4;
  }

  // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–∫—Ä—ã—Ç—ã—Ö
  if (hiddenCount > 0) {
    button.style.display = 'block';
    const buttonText = button.querySelector('span');
    buttonText.textContent = `–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –º–∞—Ä–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π (–µ—â–µ ${hiddenCount})`;
  } else {
    button.style.display = 'none';
  }
}

// üÜï –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
window.addEventListener('resize', function() {
  if (!document.getElementById('categoriesGrid').classList.contains('expanded')) {
    checkHiddenCategories();
  }
});

// ‚ùì FAQ Accordion functionality
function toggleFAQ(button) {
  const faqItem = button.parentElement;
  const answer = faqItem.querySelector('.faq-answer');
  const isActive = faqItem.classList.contains('active');
  
  // üîÑ –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ FAQ
  document.querySelectorAll('.faq-item.active').forEach(item => {
    if (item !== faqItem) {
      item.classList.remove('active');
      item.querySelector('.faq-answer').classList.remove('active');
    }
  });
  
  // üéØ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Ç–µ–∫—É—â–∏–π FAQ
  if (isActive) {
    faqItem.classList.remove('active');
    answer.classList.remove('active');
  } else {
    faqItem.classList.add('active');
    answer.classList.add('active');
  }
}
</script>

{% endblock %}